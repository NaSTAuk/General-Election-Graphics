<!DOCTYPE html>
<html ng-app="cgApp">
    <head>
        <meta charset="UTF-8">
        <title>CG</title>
        <link rel="stylesheet" href="/css/reset.css" />
        <link href="/css/fonts/montserrat.css" rel="stylesheet" type="text/css">
        <link href="/css/fonts/ubuntu_condensed.css" rel="stylesheet" type="text/css">
        <link href="/css/theme.css" rel="stylesheet" type="text/css">
        <link href="/css/animation.css" rel="stylesheet" type="text/css">
		<link href="/css/animate.css" rel="stylesheet" type="text/css">
    </head>

    <body>
    <div class="fullscreen-bg">
    <video loop muted autoplay class="fullscreen-bg__video">
        <source src="video/bgvideo.mp4" type="video/mp4">
    </video>
</div>
    
        <div ng-controller="bugCtrl">
            <div class="wrapper slide-left" ng-show="state.showGeneral">
                 <div class="bug top slide-top" ng-show="state.showClock">
                 	<h1 class="black clock">{{clock | date: "h:mm a"}}</h1>
                 </div>
                 <div class="bug top slide-top" ng-show="state.showLive">
                 	<h1 class="livetext" ng-show="state.showLive">{{bug.livetext}}</h1>
                 </div>
                 <div class="bug top slide-top" ng-show="state.showLocation">
                 	<h1 class="locationtext white" ng-show="state.showLocation">{{bug.locationtext}}</h1>
                </div>
                <div class="bug top slide-top" ng-show="state.showCountdown">
                 	<h1 class="livetext" ng-show="state.showCountdown"><div id="clockdiv"></div></h1>
                </div>
            </div>

                <div class="logo right top toggle" ng-show="state.showLogo">
                    <img src="/images/nastalogo.png" />
                </div>
            </div>
        </div>

        <div ng-controller="lowerThirdsCtrl">
        	<div class="lowerthird bottom fullwidth scale-fade" ng-show="showFull">
                <div class="gradient-overlay">
                    <h1>{{full.heading}}</h1>
                </div>
                <h2 ng-show="full.subHeading">{{full.subHeading}}</h2>
            </div>
        
            <div class="lowerthird left bottom slide-left" ng-show="showLeft">
                <div class="gradient-overlay">
                    <h1>{{left.heading}}</h1>
                </div>
                <h2 ng-show="left.subHeading">{{left.subHeading}}</h2>
            </div>

            <div class="lowerthird right bottom slide-right" ng-show="showRight">
                <div class="gradient-overlay">
                    <h1>{{right.heading}}</h1>
                </div>
                <h2 ng-show="right.subHeading">{{right.subHeading}}</h2>
            </div>
        </div>
        
        <div ng-controller="constituencyCtrl">
        	<div class="constituencyoverview scale-fade" ng-show="constituency.showConstituencyInfo">
                <div class="gradient-overlay" style="clear: both">
                    <h1 style="background-color: {{constituency.conColor}} !important;">{{constituency.conName}} </h1>
                	<div class="eurefinfo"> 
                	<div class="eupietitle">EU Referendum Result 2016</div>
                	<div id="eupiechart"></div>	
                	<input type="hidden" id="euleave" value="{{constituency.euleave}}">
                	<input type="hidden" id="euremain" value="{{constituency.euremain}}">
                </div>
                </div>
                
                <div class="gradient-overlay constmpname">
						<h2>{{constituency.conMPName}} - {{constituency.conDescription}}</h2>
                </div>
                
                <div class="gradient-overlay party-breakdown">
					<div class="constpartyname">
						<h2 class="partyname" style="background-color: {{constituency.conColor}} !important;">{{constituency.conPartyOne}}</h2>
					</div>
					<div class="constcandidatename">
						<h2>Candidate Name</h2>
					</div>
					<div class="constvotes">
						<h2 class="partyname" style="background-color: {{constituency.conColor}} !important; text-align:right;">23,369</h2>
					</div>
                </div>
                <div class="gradient-overlay party-breakdown">
					<div class="constpartyname">
						<h2 class="partyname" style="background-color: #ED1E0E !important;">{{constituency.conPartyTwo}}</h2>
					</div>
					<div class="constcandidatename">
						<h2>Candidate Name</h2>
					</div>
					<div class="constvotes">
						<h2 class="partyname" style="background-color: #ED1E0E !important; text-align:right;">8,468</h2>
					</div>
                </div>
                <div class="gradient-overlay party-breakdown">
					<div class="constpartyname">
						<h2 class="partyname" style="background-color: #712F87 !important;">{{constituency.conPartyThree}}</h2>
					</div>
					<div class="constcandidatename">
						<h2>Candidate Name</h2>
					</div>
					<div class="constvotes">
						<h2 class="partyname" style="background-color: #712F87 !important; text-align:right;">8,253</h2>
					</div>
                </div>
                <div class="gradient-overlay party-breakdown" >
					<div class="constpartyname">
						<h2 class="partyname" style="background-color: #FEAE14 !important;">{{constituency.conPartyFour}}</h2>
					</div>
					<div class="constcandidatename">
						<h2>Candidate Name</h2>
					</div>
					<div class="constvotes">
						<h2 class="partyname" style="background-color: #FEAE14 !important; text-align:right;">4,076</h2>
					</div>
                </div>
                
                <div class="gradient-overlay party-breakdown">
					<div style="float:left; width:48%;">
						<h2>Turnout: <span style="float:right">{{constituency.conTurnout}}</span></h2>
					</div>
					<div style="float:right; width:48%;">
						<h2>Majority: <span style="float:right">{{constituency.conMajority}}</span></h2>
					</div>
                </div>
            </div>
        </div>

        <div ng-controller="scoringCtrl">
        		<div ng-show="showScore" class="total-score slide-left" >
					<div class="float-left party-score CON" ng-show="showcon">
					<p class="party-name">CON</p><p class="seats"> {{conScore}}</p><div style="clear: both;"></div>
					</div>

					<div class="float-left party-score LAB" ng-show="showlab">
					<p><span class="party-name">LAB</span><span class="seats"> {{labScore}}</span></p>
					</div>
							
					<div class="float-left party-score SNP" ng-show="showsnp">
					<p><span class="party-name">SNP</span><span class="seats"> {{snpScore}}</span></p>
					</div>
					
					<div class="float-left party-score LIB" ng-show="showlib">
					<p><span class="party-name">LIB</span><span class="seats"> {{libScore}}</span></p>
					</div>
					
					<div class="float-left party-score DUP" ng-show="showdup">
					<p><span class="party-name">DUP</span><span class="seats"> {{dupScore}}</span></p>
					</div>
					
					<div class="float-left party-score PC" ng-show="showpc">
					<p><span class="party-name">PC</span><span class="seats"> {{pcScore}}</span></p>
					</div>
									
					<div class="float-left party-score GRN" ng-show="showgrn">
					<p><span class="party-name">GRN</span><span class="seats"> {{grnScore}}</span></p>
					</div>
									
					<div class="float-left party-score OTH" ng-show="showoth">
					<p><span class="party-name">OTH</span><span class="seats"> {{othScore}}</span></p>
					</div>
					<br>
					<div ng-show="showSubtitle" class="subtitle scale-fade"><h1>{{subtitle}}</h1></div>
                	
                	<div class="clearfix"></div>
            	</div>
        </div>
        
         <div ng-controller="seatsCtrl">
        		<div ng-show="seats.showSeats" class="total-score {{seats.position}} slide-{{seats.position}}" >
					<div class="float-left party-score CON" ng-show="seats.showcon">
					<p><span class="party-name" ng-show="seats.showSeatsNames">CON</span> <span class="seats"> {{seats.conScore}}</span></p>
					</div>

					<div class="float-left party-score LAB" ng-show="seats.showlab">
					<p><span class="party-name" ng-show="seats.showSeatsNames">LAB</span> <span class="seats"> {{seats.labScore}}</span></p>
					</div>
					
					<div class="float-left party-score LIB" ng-show="seats.showlib">
					<p><span class="party-name" ng-show="seats.showSeatsNames">LIB </span><span class="seats"> {{seats.libScore}}</span></p>
					</div>
					
					<div class="float-left party-score SNP" ng-show="seats.showsnp">
					<p><span class="party-name" ng-show="seats.showSeatsNames">SNP</span> <span class="seats"> {{seats.snpScore}}</span></p>
					</div>
					
					<div class="float-left party-score GRN" ng-show="seats.showgrn">
					<p><span class="party-name" ng-show="seats.showSeatsNames">GRN</span> <span class="seats"> {{seats.grnScore}}</span></p>
					</div>
					
					<div class="float-left party-score PC" ng-show="seats.showpc">
					<p><span class="party-name" ng-show="seats.showSeatsNames">PC</span> <span class="seats"> {{seats.pcScore}}</span></p>
					</div>
					
					<div class="float-left party-score DUP" ng-show="seats.showdup">
					<p><span class="party-name" ng-show="seats.showSeatsNames">DUP</span> <span class="seats"> {{seats.dupScore}}</span></p>
					</div>
					
					<div class="float-left party-score OTH" ng-show="seats.showoth">
					<p><span class="party-name" ng-show="seats.showSeatsNames">OTH</span> <span class="seats"> {{seats.othScore}}</span></p>
					</div>
					<br>
					<div ng-show="seats.showSubtitle" class="subtitle slide-{{seats.position}}"><h1>{{seats.subtitle}}</h1></div>
                	
                	<div class="clearfix"></div>
            	</div>
        </div>
        
        <div ng-controller="gridCtrl">   
          <div class="center-page scale-fade" ng-show="show">
            <div class="grid center" style="margin-top: 20px; position: absolute;" >
              <div class="gradient-overlay">
                <h1 style="background-color: {{grid.headingcolor}} !important;">{{ grid.header }}</h1>
              </div>

              <div class="row animate-repeat" ng-repeat="row in grid.rows">
                <div style="background-color: {{row.color}} !important;" class="gridleft float-left">{{ row.left }}</div>
                <div style="background-color: {{row.color}} !important;" class="gridright float-right">{{ row.right }}</div>
              </div>
            </div>
          </div>
        </div>  
          
        <div ng-controller="recentgridCtrl">
          <div class="top scale-fade" ng-show="show">
            <div class="grid center" style="margin-top: 20px; position: absolute;" >
              <div class="gradient-overlay">
                <h1>{{ recentgrid.header }}</h1>
              </div>

              <div class="row animate-repeat" ng-repeat="row in recentgrid.rows">
                <div style="background-color: {{row.color}} !important;" class="gridleft float-left">{{ row.left }}</div>
                <div style="background-color: {{row.color}} !important;" class="gridright float-right">{{ row.right }}</div>
              </div>
            </div>
          </div>
        </div>  


        <script type="text/javascript" src="/js/socket.io.js"></script>
        <script type="text/javascript" src="/js/libs/angular.min.js"></script>
        <script type="text/javascript" src="/js/libs/angular-animate.min.js"></script>
        <script type="text/javascript" src="/js/ng-socket-io.js"></script>
        <script type="text/javascript" src="/js/cg.js"></script>
        <script type="text/javascript" src="/js/chartsloader.js"></script>
        
        <script>
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
		
		var leave = document.getElementById('euleave').value;
		var remain = document.getElementById('euremain').value;
        var data = google.visualization.arrayToDataTable([
          ['', ''],
          ['L', parseFloat(leave)],
          ['R', parseFloat(remain)]
        ]);

        var options = {
          title: 'EU Referendum',
          backgroundColor: { fill:'transparent' },
          pieSliceText: 'label',
          slices: {
            0: { color: '#003399' },
            1: { color: '#d7001f' }
          },
          legend: 'none',
          chartArea:{right:3,top:0,width:'100%',height:'100%'},
          height: 120,
          width: 120,
          is3D: true,
          fontName: 'Ubuntu Condensed',
          fontSize: 22
        };

        var chart = new google.visualization.PieChart(document.getElementById('eupiechart'));

        chart.draw(data, options);
      }
      
      setInterval(drawChart, 2000); 
      </script>
    </body>
</html>
