<div class="ui form segment">
  <h2>Constituency Information</h2>
  <form name="lowerThirdsForm" method="post">
    <div class="two fields">
      <div class="field">
        <label for="Heading">Heading</label>
        <input id="Heading" placeholder="Heading" type="text" ng-trim="true" ng-model="lowerThird.heading"/>
      </div>

      <div class="field">
        <label for="SubHeading">Sub-Heading</label>
        <input id="SubHeading" placeholder="Sub Heading" type="text" ng-trim="true" ng-model="lowerThird.subHeading">
      </div>
    </div>
	<br>
    <div class="right floated right aligned six wide column">
      <div class="ui blue button" ng-click="add(lowerThird)" ng-disabled="lowerThirdsForm.$invalid" >Add</div>
      <div class="ui red button" ng-click="hideall()">Hide All</div>
    </div>
  </form>
</div>

<div class="ui segment" ng-repeat="third in queuedThirds">
  <div class="ui grid">
    <div class="six wide column">
      <h2 class="left aligned ui header">
          <i class="list layout icon"></i>
          <div class="content">
              {{third.heading}}
              <div class="sub header">{{third.subHeading}}</div>
          </div>
        </h2>
    </div>

    <div class="two wide column">
      
    </div>

    <div class="two wide column">

    </div>

    <div class="right aligned six wide column">
      <div class="ui small buttons">
        <div class="ui positive button" ng-click="show('left', third)" >Left</div>
        <div class="or"></div>
        <div class="ui positive button" ng-click="show('right', third)" >Right</div>
        <div class="or"></div>
        <div class="ui positive button" ng-click="show('full', third)" >Full Width</div>
      </div>
      <div class="ui icon red small button">
        <i class="delete icon" ng-click='remove($index)'></i>
      </div>

      <div class="ui small buttons">
        <div class="ui negative button" ng-click="hideleft()" >Left</div>
        <div class="or"></div>
        <div class="ui negative button" ng-click="hideright()" >Right</div>
        <div class="or"></div>
        <div class="ui negative button" ng-click="hidefull()" >Full Width</div>
      </div>

      <div class="ui icon red small button">
        <i class="delete icon" ng-click='remove($index)'></i>
      </div>
    </div>
  </div>
</div>  

<div class="ui form segment">
<h2>Get Searching</h2>
<form role="form">
        <div class="form-group">
          <input type="text" class="form-control input-lg" id="search" placeholder="Sart type 'a' ....">
        </div>
</form>

<div id="results"></div>
</div>
<script>
$(window).load(function(){
        $('#search').keyup(function(){
            var searchField = $('#search').val();
            var regex = new RegExp(searchField, "i");
            var output = '<div class="row">';
            var count = 1;
            $.getJSON('/data/data_dump.json', function(data) {
              $.each(data, function(key, val){
                if ((val.Const_Name.search(regex) != -1)) {
                  output += '<div class="col-md-7">';
                  output += '<h5>' + val.Const_Name + '</h5>';
                  output += '<p>' + val.Winner15;
                  output += ' Majority: ' + val.MAJ + '</p>';
                  output += '<p>' + (val.EUHANLEAVE * 100).toFixed(2) + '% Leave ';
                  output += (val.EUHANREM * 100).toFixed(2) + '% Remain</p>';
                  output += '</div>';
                  output += '</div>';
                  if(count%2 == 0){
                    output += '</div><div class="row">'
                  }
                  count++;
                }
              });
              output += '</div>';
              $('#results').html(output);
            }); 
        });
      });
</script>
